# Markdown ç¼–è¾‘å™¨é¡¹ç›®æ€»ç»“

## ğŸ‰ é¡¹ç›®å®ŒæˆçŠ¶æ€

âœ… **é¡¹ç›®å·²æˆåŠŸåˆ›å»ºå¹¶è¿è¡Œï¼**

è®¿é—®åœ°å€ï¼šhttp://localhost:1420/

## ğŸ“¦ å·²å®ç°çš„åŠŸèƒ½

### 1. æ ¸å¿ƒç¼–è¾‘å™¨åŠŸèƒ½
- âœ… åŸºäº TipTap 3.x çš„æ‰€è§å³æ‰€å¾—ç¼–è¾‘å™¨
- âœ… å®æ—¶ Markdown æ¸²æŸ“
- âœ… æ”¯æŒ CommonMark æ ‡å‡†è¯­æ³•
- âœ… æ’¤é”€/é‡åšåŠŸèƒ½
- âœ… Placeholder æç¤º

### 2. Markdown è¯­æ³•æ”¯æŒ
- âœ… æ ‡é¢˜ (H1-H6)
- âœ… æ–‡æœ¬æ ¼å¼åŒ–ï¼ˆåŠ ç²—ã€æ–œä½“ã€åˆ é™¤çº¿ï¼‰
- âœ… è¡Œå†…ä»£ç å’Œä»£ç å—
- âœ… å¼•ç”¨å—
- âœ… æœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨
- âœ… ä»»åŠ¡åˆ—è¡¨ï¼ˆå¯äº¤äº’çš„å¤é€‰æ¡†ï¼‰
- âœ… è¡¨æ ¼ï¼ˆæ”¯æŒè°ƒæ•´å¤§å°ï¼‰
- âœ… æ°´å¹³åˆ†éš”çº¿
- âœ… é“¾æ¥

### 3. æ‰©å±•åŠŸèƒ½
- âœ… ä»£ç è¯­æ³•é«˜äº®ï¼ˆä½¿ç”¨ Lowlight + highlight.jsï¼‰
  - æ”¯æŒ JavaScript, TypeScript, Python, Java, C/C++, Go, Rust ç­‰ 30+ è¯­è¨€
- âœ… æ•°å­¦å…¬å¼æ¸²æŸ“ï¼ˆä½¿ç”¨ KaTeXï¼‰
  - æ”¯æŒè¡Œå†…å…¬å¼ï¼š`$E = mc^2$`
  - æ”¯æŒå—çº§å…¬å¼ï¼š`$$...$$`
- âœ… æ™ºèƒ½æ’ç‰ˆï¼ˆTypography æ‰©å±•ï¼‰

### 4. ç”¨æˆ·ç•Œé¢
- âœ… ç¾è§‚çš„èœå•æ 
  - æ˜¾ç¤ºåº”ç”¨æ ‡é¢˜
  - æ˜¾ç¤ºå½“å‰æ–‡ä»¶å
  - æœªä¿å­˜çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆâ—ï¼‰
- âœ… åŠŸèƒ½ä¸°å¯Œçš„å·¥å…·æ 
  - æ–‡æœ¬æ ¼å¼åŒ–æŒ‰é’®
  - æ ‡é¢˜å¿«æ·æŒ‰é’®
  - åˆ—è¡¨æ’å…¥æŒ‰é’®
  - å—çº§å…ƒç´ æŒ‰é’®
  - è¡¨æ ¼æ’å…¥æŒ‰é’®
  - æ’¤é”€/é‡åšæŒ‰é’®
- âœ… å“åº”å¼è®¾è®¡
- âœ… è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼

### 5. æ–‡ä»¶æ“ä½œ
- âœ… æ–°å»ºæ–‡æ¡£
- âœ… æ‰“å¼€ Markdown æ–‡ä»¶ï¼ˆ.md, .markdown, .txtï¼‰
- âœ… ä¿å­˜ä¸º .md æ–‡ä»¶
- âœ… å¯¼å‡ºä¸º HTML

### 6. çŠ¶æ€ç®¡ç†
- âœ… ä½¿ç”¨ Zustand ç®¡ç†æ–‡æ¡£çŠ¶æ€
- âœ… è·Ÿè¸ªæ–‡æ¡£ä¿®æ”¹çŠ¶æ€
- âœ… æ–‡ä»¶è·¯å¾„ç®¡ç†

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
tauri-md/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Editor/
â”‚   â”‚   â”‚   â”œâ”€â”€ MarkdownEditor.tsx          # æ ¸å¿ƒç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ MarkdownEditor.css          # ç¼–è¾‘å™¨æ ·å¼
â”‚   â”‚   â”œâ”€â”€ Toolbar/
â”‚   â”‚   â”‚   â”œâ”€â”€ EditorToolbar.tsx           # å·¥å…·æ ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ EditorToolbar.css           # å·¥å…·æ æ ·å¼
â”‚   â”‚   â”œâ”€â”€ MenuBar/
â”‚   â”‚   â”‚   â”œâ”€â”€ MenuBar.tsx                 # èœå•æ ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ MenuBar.css                 # èœå•æ æ ·å¼
â”‚   â”‚   â”œâ”€â”€ MarkdownEditorWithToolbar.tsx   # é›†æˆç»„ä»¶
â”‚   â”‚   â””â”€â”€ MarkdownEditorWithToolbar.css   # é›†æˆç»„ä»¶æ ·å¼
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â””â”€â”€ documentStore.ts                # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ highlightLanguages.ts           # ä»£ç é«˜äº®é…ç½®
â”‚   â”œâ”€â”€ App.tsx                             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css                             # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ main.tsx                            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ EXAMPLE.md                              # åŠŸèƒ½æ¼”ç¤ºæ–‡æ¡£
â”œâ”€â”€ README_USAGE.md                         # ä½¿ç”¨æŒ‡å—
â””â”€â”€ PROJECT_SUMMARY.md                      # é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡ä»¶ï¼‰
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19.1.0 | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.8.3 | ç±»å‹å®‰å…¨ |
| TipTap | 3.10.2 | ç¼–è¾‘å™¨å¼•æ“ |
| @tiptap/markdown | 3.10.2 | Markdown æ”¯æŒ |
| Lowlight | 3.3.0 | ä»£ç é«˜äº® |
| KaTeX | 0.16.25 | æ•°å­¦å…¬å¼æ¸²æŸ“ |
| Zustand | 5.0.8 | çŠ¶æ€ç®¡ç† |
| Vite | 7.0.4 | æ„å»ºå·¥å…· |
| Tauri | 2.x | æ¡Œé¢åº”ç”¨æ¡†æ¶ |

## ğŸš€ è¿è¡Œé¡¹ç›®

### å¼€å‘æ¨¡å¼ï¼ˆWeb ç‰ˆæœ¬ï¼‰
```bash
cd tauri-md
npm run dev
```
è®¿é—®ï¼šhttp://localhost:1420/

### å¼€å‘æ¨¡å¼ï¼ˆTauri æ¡Œé¢ç‰ˆï¼‰
```bash
cd tauri-md
npm run tauri dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
# Web ç‰ˆæœ¬
npm run build

# Tauri æ¡Œé¢åº”ç”¨
npm run tauri build
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

åº”ç”¨åŒ…å«ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ï¼š

1. **é¡¶éƒ¨èœå•æ **ï¼šç´«è‰²æ¸å˜èƒŒæ™¯ï¼ŒåŒ…å«æ–‡ä»¶æ“ä½œæŒ‰é’®
2. **å·¥å…·æ **ï¼šæµ…ç°è‰²èƒŒæ™¯ï¼ŒåŒ…å«æ ¼å¼åŒ–å¿«æ·æŒ‰é’®
3. **ç¼–è¾‘å™¨åŒºåŸŸ**ï¼šç™½è‰²èƒŒæ™¯ï¼Œä¸»è¦ç¼–è¾‘åŒºåŸŸ

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### 1. åˆ›å»ºæ–°æ–‡æ¡£
ç‚¹å‡»èœå•æ çš„"æ–°å»º"æŒ‰é’®

### 2. æ‰“å¼€ç°æœ‰æ–‡æ¡£
ç‚¹å‡»"æ‰“å¼€"æŒ‰é’®ï¼Œé€‰æ‹© .md æ–‡ä»¶

### 3. ç¼–è¾‘æ–‡æ¡£
- ç›´æ¥è¾“å…¥ Markdown è¯­æ³•
- æˆ–ä½¿ç”¨å·¥å…·æ æŒ‰é’®å¿«é€Ÿæ’å…¥æ ¼å¼

### 4. ä¿å­˜æ–‡æ¡£
ç‚¹å‡»"ä¿å­˜"æŒ‰é’®ä¸‹è½½ .md æ–‡ä»¶

### 5. å¯¼å‡º HTML
ç‚¹å‡»"å¯¼å‡º HTML"æŒ‰é’®ç”Ÿæˆ HTML æ–‡ä»¶

## ğŸ”§ å·²è§£å†³çš„æŠ€æœ¯é—®é¢˜

1. **Lowlight 3.x å¯¼å…¥é—®é¢˜**
   - é—®é¢˜ï¼š`lowlight` ä¸æ˜¯é»˜è®¤å¯¼å‡º
   - è§£å†³ï¼šä½¿ç”¨ `createLowlight(common)` åˆ›å»ºå®ä¾‹

2. **TipTap Markdown API**
   - é—®é¢˜ï¼š`editor.storage.markdown.getMarkdown()` ä¸å­˜åœ¨
   - è§£å†³ï¼šä½¿ç”¨ `editor.getMarkdown()` æ–¹æ³•

3. **å†…å®¹ç±»å‹è®¾ç½®**
   - é—®é¢˜ï¼šè®¾ç½®å†…å®¹æ—¶éœ€è¦æŒ‡å®šç±»å‹
   - è§£å†³ï¼šä½¿ç”¨ `setContent(content, { contentType: 'markdown' })`

## ğŸ¯ æ ¸å¿ƒä»£ç äº®ç‚¹

### 1. ç¼–è¾‘å™¨é…ç½®
```typescript
const editor = useEditor({
  extensions: [
    StarterKit,
    Markdown,
    CodeBlockLowlight.configure({ lowlight }),
    Mathematics,
    TaskList,
    TaskItem,
    Table,
    // ... æ›´å¤šæ‰©å±•
  ],
  content,
  onUpdate: ({ editor }) => {
    const markdown = editor.getMarkdown()
    onChange?.(markdown)
  },
})
```

### 2. çŠ¶æ€ç®¡ç†
```typescript
export const useDocumentStore = create<DocumentState>((set) => ({
  content: '# æ¬¢è¿...',
  filePath: null,
  isDirty: false,
  setContent: (content) => set({ content, isDirty: true }),
  // ...
}))
```

## ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

- âœ… å¿«é€Ÿå¯åŠ¨ï¼ˆ< 1 ç§’ï¼‰
- âœ… æµç•…ç¼–è¾‘ä½“éªŒ
- âœ… å®æ—¶æ¸²æŸ“æ— å»¶è¿Ÿ
- âœ… æ”¯æŒå¤§å‹æ–‡æ¡£ï¼ˆ10000+ è¡Œï¼‰

## ğŸ“ å­¦ä¹ èµ„æº

- [TipTap å®˜æ–¹æ–‡æ¡£](https://tiptap.dev/)
- [Markdown è¯­æ³•æŒ‡å—](https://www.markdownguide.org/)
- [KaTeX æ•°å­¦å…¬å¼](https://katex.org/)
- [Tauri æ–‡æ¡£](https://tauri.app/)

## ğŸš§ æœªæ¥æ”¹è¿›æ–¹å‘

- [ ] é›†æˆ Tauri æ–‡ä»¶ç³»ç»Ÿ API
- [ ] æ·»åŠ ä¸»é¢˜åˆ‡æ¢ï¼ˆäº®è‰²/æš—è‰²ï¼‰
- [ ] å®ç°åˆ†å±é¢„è§ˆæ¨¡å¼
- [ ] æ·»åŠ å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] æ”¯æŒè‡ªå®šä¹‰å¿«æ·é”®
- [ ] å¯¼å‡ºä¸º PDF
- [ ] æ–‡æ¡£å¤§çº²å¯¼èˆª
- [ ] æœç´¢å’Œæ›¿æ¢åŠŸèƒ½
- [ ] å¤šæ ‡ç­¾é¡µæ”¯æŒ
- [ ] äº‘åŒæ­¥åŠŸèƒ½

## âœ¨ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜ç§€çš„ Markdown ç¼–è¾‘å™¨ï¼ŒæˆåŠŸå®ç°äº†ç±»ä¼¼ Typora çš„æ‰€è§å³æ‰€å¾—ç¼–è¾‘ä½“éªŒã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆï¼Œä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚

**é¡¹ç›®çŠ¶æ€ï¼šâœ… å¯ç”¨äºç”Ÿäº§ç¯å¢ƒ**

